# VolumeReadme.md

## Менеджер томов (VolumeManager)

Управляет физическим файлом-контейнером, который представляет том файловой системы.

### Основные функции

**create_and_format(volume_path, size_bytes, out_header)**

- Создает новый файл-том указанного размера
- Инициализирует суперблок с метаданными файловой системы
- Рассчитывает размеры и расположение системных областей

**load_volume(volume_path)**

- Открывает существующий том для работы
- Читает и проверяет суперблок на корректность

**read_cluster(cluster_idx, buffer)**

- Читает данные одного кластера в буфер
- Проверяет границы и корректность индекса

**write_cluster(cluster_idx, buffer)**

- Записывает данные из буфера в указанный кластер
- Автоматически сбрасывает буферы на диск

**get_header()**

- Возвращает копию суперблока с метаданными тома

**close_volume()**

- Закрывает файл тома и очищает внутреннее состояние

### Структура тома

1. Суперблок (1 кластер) - метаданные ФС
2. Битовая карта — отслеживание свободных кластеров
3. FAT таблица — цепочки кластеров
4. Корневой каталог — записи о файлах
5. Область данных — содержимое файлов