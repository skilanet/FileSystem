# ConfigReadme.md

## Конфигурация файловой системы (FileSystemConfig)

Определяет основные константы, структуры данных и вспомогательные функции.

### Константы

**CLUSTER_SIZE_BYTES = 4096**

- Размер одного кластера в байтах

**MAX_FILE_NAME = 255**

- Максимальная длина имени файла

**ROOT_DIRECTORY_CLUSTER_COUNT = 1**

- Начальный размер корневого каталога в кластерах

### Маркеры

**ENTRY_NEVER_USED = 0x00**

- Запись каталога никогда не использовалась

**ENTRY_DELETED = 0xE5**

- Запись была удалена

**MARKER_FAT_ENTRY_FREE = 0x00000000**

- Кластер свободен

**MARKER_FAT_ENTRY_EOF = 0xFFFFFFFF**

- Конец цепочки кластеров

### Структуры

**Header (Суперблок)**

- Сигнатура файловой системы
- Размеры тома и кластера
- Расположение системных областей (битовая карта, FAT, корневой каталог)

**DirectoryEntry**

- Имя файла/каталога
- Тип (файл или каталог)
- Первый кластер данных
- Размер файла в байтах

**FileHandle**

- Дескриптор открытого файла
- Буфер для операций чтения/записи
- Текущая позиция и состояние

### Вспомогательные функции

**DIR_ENTRIES_PER_CLUSTER**

- Вычисляет количество записей каталога в одном кластере

**try_to_streamoff**

- Безопасное преобразование uint64_t в streamoff для файловых операций